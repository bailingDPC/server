{"version":3,"sources":["webpack:///./src/pages/admin/views/Admin/Article/ArticleAdd.vue?e816","webpack:///src/pages/admin/views/Admin/Article/ArticleAdd.vue","webpack:///./src/pages/admin/views/Admin/Article/ArticleAdd.vue?6901","webpack:///./src/pages/admin/views/Admin/Article/ArticleAdd.vue","webpack:///./src/components/Admin/ArticleEdit.vue?6f55","webpack:///./src/components/MarkdownEditor.vue?2553","webpack:///src/components/MarkdownEditor.vue","webpack:///./src/components/MarkdownEditor.vue?8ec0","webpack:///./src/components/MarkdownEditor.vue","webpack:///src/components/Admin/ArticleEdit.vue","webpack:///./src/components/Admin/ArticleEdit.vue?bda0","webpack:///./src/components/Admin/ArticleEdit.vue","webpack:///./src/components/Upload.vue?4267","webpack:///src/components/Upload.vue","webpack:///./src/components/Upload.vue?cbfb","webpack:///./src/components/Upload.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","modifiers","attrs","defaultData","on","handleSubmit","staticRenderFns","component","ref","form","rules","model","callback","$$v","$set","uploadSuccess","editorOptions","$event","onSubmit","_v","id","handleAvatarSuccess","beforeAvatarUpload","staticClass","imageUrl"],"mappings":"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","file":"js/chunk-40f42d50.4a286a90.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('ArticleEdit',{directives:[{name:\"loading\",rawName:\"v-loading.fullscreen.lock\",value:(_vm.fullscreenLoading),expression:\"fullscreenLoading\",modifiers:{\"fullscreen\":true,\"lock\":true}}],attrs:{\"defaultData\":_vm.defaultData},on:{\"handleSubmit\":_vm.handleSubmit}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <ArticleEdit\r\n        @handleSubmit=\"handleSubmit\"\r\n        v-loading.fullscreen.lock=\"fullscreenLoading\"\r\n        :defaultData=\"defaultData\">\r\n        </ArticleEdit>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import ArticleEdit from \"../../../../../components/Admin/ArticleEdit\";\r\n    import { postArticle } from \"../../../../../api/index\";\r\n\r\n    export default {\r\n        name: \"ArticleAdd\",\r\n        data() {\r\n            return {\r\n                fullscreenLoading: false,\r\n                defaultData: {},\r\n            }\r\n        },\r\n        methods: {\r\n            handleSubmit(data){\r\n                postArticle(data).then((res)=>{\r\n                    this.$message({\r\n                        message: res.data.msg,\r\n                        type: 'success',\r\n                        duration : 2000\r\n                    });\r\n                    setTimeout(()=>{\r\n                        this.fullscreenLoading = false;\r\n                        window.location.reload();\r\n                    },1000)\r\n                }).catch(()=>{\r\n                    this.$message({\r\n                        message: \"上传失败\",\r\n                        type: 'error',\r\n                        duration : 2000\r\n                    });\r\n                })\r\n            }\r\n        },\r\n        components: {\r\n            ArticleEdit,\r\n        },\r\n\r\n\r\n        beforeRouteLeave(to, from,next){\r\n            this.$confirm(\"确定要离开吗?, 输入的内容不会保存哦!!!, 是否继续?\", \"提示\",{\r\n                confirmButtonText: \"确定\",\r\n                cancelButtonText: \"取消\",\r\n                type: \"warning\",\r\n                center: true\r\n            }).then(()=>{\r\n                next();\r\n            }).catch(()=>{\r\n\r\n            });\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\r\n</style>\r\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleAdd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleAdd.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleAdd.vue?vue&type=template&id=67feda26&scoped=true&\"\nimport script from \"./ArticleAdd.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleAdd.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67feda26\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"分类\",\"prop\":\"type\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.form.type),callback:function ($$v) {_vm.$set(_vm.form, \"type\", $$v)},expression:\"form.type\"}},[_c('el-option',{attrs:{\"label\":\"原创\",\"value\":\"原创\"}}),_c('el-option',{attrs:{\"label\":\"转载\",\"value\":\"转载\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"标签\",\"prop\":\"tag\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择标签\"},model:{value:(_vm.form.tag),callback:function ($$v) {_vm.$set(_vm.form, \"tag\", $$v)},expression:\"form.tag\"}},[_c('el-option',{attrs:{\"label\":\"HTML&CSS\",\"value\":\"HTML&Css\"}}),_c('el-option',{attrs:{\"label\":\"JavaScript\",\"value\":\"JavaScript\"}}),_c('el-option',{attrs:{\"label\":\"Node\",\"value\":\"Node\"}}),_c('el-option',{attrs:{\"label\":\"Vue&React\",\"value\":\"Vue&React\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"封面\",\"prop\":\"surface\"}},[_c('Upload',{on:{\"uploadSuccess\":_vm.uploadSuccess}})],1),_c('el-form-item',{attrs:{\"label\":\"内容\",\"prop\":\"content\"}},[_c('MarkdownEditor',{ref:\"editorMd\",attrs:{\"options\":_vm.editorOptions,\"id\":'edit'}})],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\" 发表文章 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":_vm.id}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div :id=\"id\">\r\n    </div>\r\n</template>\r\n<script>\r\n    import $ from \"jquery\";\r\n\r\n    export default {\r\n        name: \"MarkdownEditor\",\r\n        data: function () {\r\n            return {\r\n                //最终生成的编辑器\r\n                editor: null,\r\n                //默认选项\r\n                defaultOptions: {\r\n                    width: \"100%\",\r\n                    height: 540,\r\n                    path: \"/lib/editor.md-master/lib/\",\r\n                    theme: \"dark\",\r\n                    previewTheme: \"dark\",\r\n                    editorTheme: \"pastel-on-dark\",\r\n                    markdown: \"\",   //动态设置的markdown文本\r\n                    codeFold: true,\r\n                    // syncScrolling : false,\r\n                    saveHTMLToTextarea: true,    // 保存 HTML 到 Textarea\r\n                    searchReplace: true,\r\n                    // watch : true,                // 关闭实时预览\r\n                    htmlDecode: \"style,script,iframe|on*\",            // 开启 HTML 标签解析，为了安全性，默认不开启\r\n                    toolbar: true,             //关闭工具栏\r\n                    previewCodeHighlight: true, // 关闭预览 HTML 的代码块高亮，默认开启\r\n                    emoji: true,\r\n                    taskList: true,\r\n                    tocm: true,         // Using [TOCM]\r\n                    tex: true,                   // 开启科学公式TeX语言支持，默认关闭\r\n                    flowChart: true,             // 开启流程图支持，默认关闭\r\n                    sequenceDiagram: true,       // 开启时序/序列图支持，默认关闭,\r\n                    dialogLockScreen: false,   // 设置弹出层对话框不锁屏，全局通用，默认为true\r\n                    dialogShowMask: false,     // 设置弹出层对话框显示透明遮罩层，全局通用，默认为true\r\n                    dialogDraggable: false,    // 设置弹出层对话框不可拖动，全局通用，默认为true\r\n                    dialogMaskOpacity: 0.4,    // 设置透明遮罩层的透明度，全局通用，默认值为0.1\r\n                    dialogMaskBgColor: \"#ccc\", // 设置透明遮罩层的背景颜色，全局通用，默认为#fff\r\n                    imageUpload: true,\r\n                    imageFormats: [\"jpg\", \"jpeg\", \"gif\", \"png\", \"bmp\", \"webp\"],\r\n                    imageUploadURL: \"/admin/article/img\",\r\n                    // crossDomainUpload: true,\r\n                    // uploadCallbackURL: \"\",//图片上传成功后跳转的地址\r\n                    onload: function () {\r\n                        //console.log('onload', this);\r\n                        //this.fullscreen();\r\n                        //this.unwatch();\r\n                        //this.watch().fullscreen();\r\n                        console.log(\"加载完成\");\r\n                        //this.setMarkdown(\"#PHP\");\r\n                        //this.width(\"100%\");\r\n                        //this.height(480);\r\n                        //this.resize(\"100%\", 640);\r\n                    },\r\n                },\r\n                content: \"\",\r\n            }\r\n        },\r\n        props: {\r\n            /**\r\n             * editormd挂载元素的id\r\n             */\r\n            id: {\r\n                type: String,\r\n                default: 'editor'\r\n            },\r\n            /**\r\n             * editormd的选项对象\r\n             */\r\n            options: {\r\n                type: Object\r\n            }\r\n        },\r\n        updated() {\r\n            console.log(\"更新了\");\r\n            let vm = this;\r\n            //加载editormd\r\n            this.requireEditor(function () {\r\n                // eslint-disable-next-line no-undef\r\n                vm.editor = editormd(vm.id, vm.getOptions());\r\n            });\r\n        },\r\n        mounted() {\r\n            let vm = this;\r\n            //加载editormd\r\n            this.requireEditor(function () {\r\n                // eslint-disable-next-line no-undef\r\n                vm.editor = editormd(vm.id, vm.getOptions());\r\n            });\r\n        },\r\n        methods: {\r\n            /**\r\n             * 异步加载editormd\r\n             * callback 成功后的回调函数\r\n             */\r\n            requireEditor(callback) {\r\n                // eslint-disable-next-line no-unused-vars\r\n                let vm = this;\r\n                //设置全局变量，因为editormd依赖jquery\r\n                window.$ = window.jQuery = $;\r\n                //异步加载并执行\r\n                // eslint-disable-next-line no-unused-vars\r\n                $.getScript(\"/lib/editor.md-master/editormd.min.js\", function (script) {\r\n                    callback();\r\n                });\r\n                //加载css\r\n                $('head').append($('<link rel=\"stylesheet\" type=\"text/css\" />').attr('href', '/lib/editor.md-master/css/editormd.min.css'));\r\n            },\r\n            /**\r\n             * 得到最终的options，组件属性上获得的选项覆盖此处的默认选项\r\n             */\r\n            getOptions() {\r\n                return Object.assign(this.defaultOptions, this.options);\r\n            },\r\n            handleClick() {\r\n                this.$emit(\"Sub\", this)\r\n            }\r\n        }\r\n    }\r\n</script>\r\n<style scoped lang=\"less\">\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditor.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MarkdownEditor.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MarkdownEditor.vue?vue&type=template&id=16c87500&scoped=true&\"\nimport script from \"./MarkdownEditor.vue?vue&type=script&lang=js&\"\nexport * from \"./MarkdownEditor.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"16c87500\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" :rules=\"rules\">\r\n            <el-form-item label=\"标题\" prop=\"title\">\r\n                <el-input v-model=\"form.title\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"分类\" prop=\"type\">\r\n                <el-select v-model=\"form.type\" placeholder=\"请选择分类\">\r\n                    <el-option label=\"原创\" value=\"原创\"></el-option>\r\n                    <el-option label=\"转载\" value=\"转载\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"标签\" prop=\"tag\">\r\n                <el-select v-model=\"form.tag\" placeholder=\"请选择标签\">\r\n                    <el-option label=\"HTML&CSS\" value=\"HTML&Css\"></el-option>\r\n                    <el-option label=\"JavaScript\" value=\"JavaScript\"></el-option>\r\n                    <el-option label=\"Node\" value=\"Node\"></el-option>\r\n                    <el-option label=\"Vue&React\" value=\"Vue&React\"></el-option>\r\n                </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"封面\" prop=\"surface\">\r\n                <Upload @uploadSuccess=\"uploadSuccess\"></Upload>\r\n            </el-form-item>\r\n            <el-form-item label=\"内容\" prop=\"content\">\r\n                <MarkdownEditor :options=\"editorOptions\" ref=\"editorMd\" :id=\"'edit'\"></MarkdownEditor>\r\n            </el-form-item>\r\n            <el-form-item>\r\n                <el-button\r\n                        type=\"primary\"\r\n                        @click=\"onSubmit('form')\"\r\n                >\r\n                    发表文章\r\n                </el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import MarkdownEditor from \"../MarkdownEditor\";\r\n    import Upload from \"../Upload\";\r\n\r\n    export default {\r\n        name: \"ArticleEdit\",\r\n        props: [\r\n            \"defaultData\"\r\n        ],\r\n        data() {\r\n            return {\r\n                form: {\r\n                    title: this.defaultData.title || \"\",\r\n                    tag: this.defaultData.tag || \"\",\r\n                    type: this.defaultData.type || \"\",\r\n                    surface: this.defaultData.surface || \"\",\r\n                    content: this.defaultData.content || \"\",\r\n                },\r\n                rules: {\r\n                    type: [{required: true, message: \"请选择分类\"}],\r\n                    title: [{required: true, message: \"请输入标题\"}],\r\n                    tag: [{required: true, message: \"请选择标签\"}],\r\n                    surface: [{required: true, message: \"请选择封面\"}],\r\n                    content: {\r\n                        validator: (rule, value, cb) => {\r\n                            if (this.$refs.editorMd.editor.getHTML()) {\r\n                                cb();\r\n                            } else {\r\n                                cb(new Error(\"请输入文章内容\"));\r\n                            }\r\n                        },\r\n                        required: true\r\n                    },\r\n                },\r\n                //editor编辑器默认配置对象\r\n                editorOptions: {\r\n                    markdown: \"\",\r\n                }\r\n            }\r\n        },\r\n        watch:{\r\n            defaultData(){\r\n                this.form = {\r\n                    title : this.defaultData.title,\r\n                    type : this.defaultData.type,\r\n                    tag : this.defaultData.tag,\r\n                    content : this.defaultData.content,\r\n                    surface : this.defaultData.surface,\r\n                    contentHTML: this.defaultData.contentHTML\r\n                };\r\n            },\r\n        },\r\n        methods: {\r\n            uploadSuccess(url) {\r\n                this.form.surface = url;\r\n            },\r\n            onSubmit(formName) {\r\n                this.$refs[formName].validate((valid) => {\r\n                    if (valid) {\r\n                        this.$emit(\"handleSubmit\",{\r\n                            type: this.form.type,\r\n                            title: this.form.title,\r\n                            tag: this.form.tag,\r\n                            surface: this.form.surface,\r\n                            content: this.$refs.editorMd.editor.getMarkdown(),\r\n                            contentHTML: this.$refs.editorMd.editor.getHTML()\r\n                        })\r\n                    } else {\r\n                        return false;\r\n                    }\r\n                });\r\n            },\r\n        },\r\n        components: {\r\n            MarkdownEditor,\r\n            Upload\r\n        },\r\n        created() {\r\n            this.editorOptions = this.defaultData;\r\n        },\r\n        destroyed() {\r\n\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleEdit.vue?vue&type=template&id=2b36bc0f&scoped=true&\"\nimport script from \"./ArticleEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleEdit.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2b36bc0f\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-upload',{attrs:{\"action\":\"http://localhost:3000/admin/upload/articleSurface\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"width\":\"300\",\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <el-upload\r\n            class=\"\"\r\n            action=\"http://localhost:3000/admin/upload/articleSurface\"\r\n            :show-file-list=\"false\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n    >\r\n        <img v-if=\"imageUrl\" width=\"300\" :src=\"imageUrl\" class=\"avatar\">\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n    </el-upload>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Upload\",\r\n        data(){\r\n            return {\r\n                imageUrl: \"\"\r\n            };\r\n        },\r\n        methods: {\r\n            handleAvatarSuccess(res, file) {\r\n                this.$emit(\"uploadSuccess\", res.surface);\r\n                this.imageUrl = URL.createObjectURL(file.raw);\r\n            },\r\n            beforeAvatarUpload(file) {\r\n                const isType = /^(image\\/jpeg|image\\/jpg|image\\/png|image\\/gif)$/.test(file.type);\r\n\r\n                if (!isType) {\r\n                    this.$message.error('图片只能是 JPG/JPEG/PNG/GIF 格式!');\r\n                }\r\n                return isType;\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Upload.vue?vue&type=template&id=c8448796&scoped=true&\"\nimport script from \"./Upload.vue?vue&type=script&lang=js&\"\nexport * from \"./Upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c8448796\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}